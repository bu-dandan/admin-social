{"remainingRequest":"/Users/mac/code/2023/juliang/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/mac/code/2023/juliang/src/layout/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/mac/code/2023/juliang/src/layout/index.vue","mtime":1694243715942},{"path":"/Users/mac/code/2023/juliang/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/code/2023/juliang/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/mac/code/2023/juliang/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/mac/code/2023/juliang/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUnCmltcG9ydCBDb29raWVzIGZyb20gJ2pzLWNvb2tpZScKCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xheW91dCcsCiAgY29tcG9uZW50czogewogIH0sCgogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtZW51OiBbCiAgICAgICAgeyBuYW1lOiAn6LSi5YqhJywgcGF0aDogJy9maW5hbmNlL3dhbGxldCcsIGFjdGl2ZTogJy9maW5hbmNlJyB9LAogICAgICAgIHsgbmFtZTogJ+W3peWFtycsIHBhdGg6ICcvdG9vbC9jb21tZW50JywgYWN0aXZlOiAnL3Rvb2wnIH0sCiAgICAgICAgeyBuYW1lOiAn6LWE5LqnJywgcGF0aDogJy9wcm9wZXJ0eScsIGFjdGl2ZTogJy9wcm9wZXJ0eScgfSwKICAgICAgICB7IG5hbWU6ICfmiqXooagnLCBwYXRoOiAnL3JlcG9ydC9hY2NvdW50JywgYWN0aXZlOiAnL3JlcG9ydCcgfSwKICAgICAgICB7IG5hbWU6ICfntKDmnZAnLCBwYXRoOiAnL3NvdXJjZScsIGFjdGl2ZTogJy9zb3VyY2UnIH0sCiAgICAgICAgeyBuYW1lOiAn5ZOB54mM5o6o5bm/JywgcGF0aDogJy9icmFuZCcsIGFjdGl2ZTogJy9icmFuZCcgfSwKICAgICAgICB7IG5hbWU6ICfnq57ku7fmjqjlub8nLCBwYXRoOiAnL2JpZGRpbmcnLCBhY3RpdmU6ICcvYmlkZGluZycgfSwKICAgICAgXSwKICAgICAgdXNlckxpc3Q6ICcnLAogICAgICB1c2VySW5mbzogJycsCiAgICB9CiAgfSwKICBjb21wdXRlZDogewoKICAgIHJvdXRlKCkgewogICAgICByZXR1cm4gdGhpcy4kcm91dGUucGF0aAogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMudXNlckxpc3QgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJMaXN0CiAgICBsZXQgdXNlckluZm8gPSBDb29raWVzLmdldCgndXNlckluZm8nKQogICAgaWYgKCF1c2VySW5mbykgewogICAgICBDb29raWVzLnNldCgndXNlckluZm8nLCAxKQogICAgfQogICAgdGhpcy51c2VySW5mbyA9IEpTT04ucGFyc2UoQ29va2llcy5nZXQoJ3VzZXJJbmZvJykpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBsb2dvdXQoKSB7CiAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCd1c2VyL2xvZ291dCcpCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvbG9naW4/cmVkaXJlY3Q9JHt0aGlzLiRyb3V0ZS5mdWxsUGF0aH1gKQogICAgfSwKICAgIHRvUGFnZShwYXRoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogcGF0aCB9KTsKICAgIH0sCiAgICBjaG9vc2VVc2VyKHVzZXIpIHsKICAgICAgQ29va2llcy5zZXQoJ3VzZXJJbmZvJywgdXNlcikKICAgICAgY29uc29sZS5sb2coQ29va2llcy5nZXQoJ3VzZXJJbmZvJykpOwogICAgICB0aGlzLnVzZXJJbmZvID0gSlNPTi5wYXJzZShDb29raWVzLmdldCgndXNlckluZm8nKSkKICAgICAgbG9jYXRpb24ucmVsb2FkKCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout","sourcesContent":["<template>\n  <div class=\"app-wrapper\">\n    <div class=\"main-container\">\n      <div class=\"nav-area\">\n        <div style=\"display: flex;align-items: center;\">\n          <div class=\"logo-title\">\n            <img src=\"@/assets/favicon.png\" alt=\"\">\n          </div>\n          <div class=\"nav-menu\">\n            <div v-for=\"(item, index) in menu\" :key=\"index\"\n              :class=\"route.indexOf(item.active) != '-1' ? 'active' : ''\"\n              @click=toPage(item.path)>{{ item.name }}\n            </div>\n          </div>\n        </div>\n        <div class=\"right-nav\">\n          <div class=\"icon-list\">\n            <span class=\"el-icon-s-order\"></span>\n            <span class=\"el-icon-message-solid\"></span>\n            <span class=\"el-icon-menu\"></span>\n            <span class=\"el-icon-s-opportunity\"></span>\n          </div>\n          <el-dropdown>\n            <span class=\"avatar\">\n              <div style=\"display: flex; align-items: center;\">\n                <img src=\"@/assets/avatar.png\" class=\"user-avatar\">\n                <div v-if=\"userInfo\" class=\"user-info\">\n                  {{ userInfo.advertiser_name }}\n                  <div> {{ 'ID: ' + userInfo.advertiser_id }} </div>\n                </div>\n              </div>\n              <span style=\"margin-left: 8px;\" class=\"el-icon-caret-bottom\"></span>\n            </span>\n            <el-dropdown-menu slot=\"dropdown\">\n              <el-dropdown-item v-for=\"(item, index) in userList\" :key='index' v-if=\"userList && userInfo\"\n                @click.native=\"chooseUser(item)\">\n                <div :class=\"userInfo && item && (userInfo.advertiser_id == item.advertiser_id) ? 'is-active' : ''\">\n                  {{ item.advertiser_name }} <el-tag size=\"mini\" type=\"info\" style=\"margin-left: 4px;\">{{\n                    item.advertiser_role == '1' ? '广告主' : item.advertiser_role == '2'\n                    ? '纵横组织账户' : item.advertiser_role == '3' ? '一级代理商' :\n                      item.advertiser_role == '4' ? '二级代理商'\n                        : item.advertiser_role == '6' ? '星图账号' : '' }}</el-tag>\n                  <div style=\"color: #aaa;margin-top: -16px;\">ID: {{ item.advertiser_id }} </div>\n                </div>\n              </el-dropdown-item>\n              <el-dropdown-item @click.native=\"logout\">退出登录</el-dropdown-item>\n            </el-dropdown-menu>\n          </el-dropdown>\n          <div class=\"tool-btn\">\n            <img src=\"@/assets/logo/circle.png\" alt=\"\">\n            <div></div>\n            <img src=\"@/assets/logo/all.png\" alt=\"\">\n          </div>\n        </div>\n      </div>\n      <el-main class=\"main-app\">\n        <router-view />\n      </el-main>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport store from '../store'\nimport Cookies from 'js-cookie'\n\n\nexport default {\n  name: 'Layout',\n  components: {\n  },\n\n  data() {\n    return {\n      menu: [\n        { name: '财务', path: '/finance/wallet', active: '/finance' },\n        { name: '工具', path: '/tool/comment', active: '/tool' },\n        { name: '资产', path: '/property', active: '/property' },\n        { name: '报表', path: '/report/account', active: '/report' },\n        { name: '素材', path: '/source', active: '/source' },\n        { name: '品牌推广', path: '/brand', active: '/brand' },\n        { name: '竞价推广', path: '/bidding', active: '/bidding' },\n      ],\n      userList: '',\n      userInfo: '',\n    }\n  },\n  computed: {\n\n    route() {\n      return this.$route.path\n    }\n  },\n  mounted() {\n    this.userList = this.$store.state.user.userList\n    let userInfo = Cookies.get('userInfo')\n    if (!userInfo) {\n      Cookies.set('userInfo', 1)\n    }\n    this.userInfo = JSON.parse(Cookies.get('userInfo'))\n  },\n  methods: {\n    async logout() {\n      await this.$store.dispatch('user/logout')\n      this.$router.push(`/login?redirect=${this.$route.fullPath}`)\n    },\n    toPage(path) {\n      this.$router.push({ path: path });\n    },\n    chooseUser(user) {\n      Cookies.set('userInfo', user)\n      console.log(Cookies.get('userInfo'));\n      this.userInfo = JSON.parse(Cookies.get('userInfo'))\n      location.reload()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.app-wrapper {\n  height: 100%;\n  width: 100%;\n}\n\n::v-deep .el-main {\n  padding: 0 16px;\n}\n\n.nav-area {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  height: 64px;\n  // border-bottom: 1px solid #dcdfe6;\n  padding: 0 20px;\n  width: 100%;\n  overflow: hidden;\n\n  .logo-title {\n    display: flex;\n    align-items: center;\n    margin-right: 24px;\n\n    img {\n      width: 42px;\n      height: 42px;\n    }\n  }\n\n  .nav-menu {\n    display: flex;\n    margin-right: 24px;\n    color: #333;\n    font-size: 14px;\n\n    div {\n      padding: 12px 0;\n      margin: 0 12px;\n      white-space: nowrap;\n      cursor: pointer;\n    }\n\n    div:hover {\n      color: #2f88ff;\n      font-weight: 700;\n    }\n\n    .active {\n      color: #2f88ff;\n      border-bottom: 1px solid #2f88ff;\n      font-weight: 700;\n    }\n  }\n\n}\n\n.right-nav {\n  display: flex;\n  align-items: center;\n  color: #949ca3;\n  font-size: 18px;\n\n  .icon-list {\n    display: flex;\n    align-items: center;\n    margin-right: 20px;\n    padding-right: 12px;\n    border-right: 1px solid #ddd;\n\n    span {\n      padding: 0 10px;\n      cursor: pointer;\n    }\n  }\n\n  .avatar {\n    display: flex;\n    align-items: center;\n\n    .user-avatar {\n      width: 28px;\n      height: 28px;\n      object-fit: cover;\n      cursor: pointer;\n    }\n\n    .user-info {\n      margin-left: 4px;\n      font-size: 12px;\n      width: 150px;\n      overflow: hidden;\n      white-space: nowrap;\n      text-overflow: ellipsis;\n\n      div {\n        color: #aaa;\n        margin-top: 2px;\n      }\n    }\n  }\n\n\n  .tool-btn {\n    display: flex;\n    align-items: center;\n    padding: 8px;\n    box-shadow: inset 0 0 4px rgba(108, 112, 124, 0.15);\n    // box-shadow:;\n    margin-left: 20px;\n\n    div {\n      height: 16px;\n      width: 1px;\n      background-color: #ddd;\n      margin: 0 8px;\n    }\n\n    img {\n      width: 18px;\n      height: 18px;\n      cursor: pointer;\n    }\n  }\n}\n\n\n.is-active {\n  color: #2f88ff;\n}\n\n// .main-app {\n//   background-color: #fff;\n//   border-radius: 10px;\n//   margin: 0 14px;\n//   min-height: calc(100vh - 78px);\n// }\n</style>\n"]}]}